/*! Picturefill - v2.1.0 - 2014-09-20
* http://scottjehl.github.io/picturefill
* Copyright (c) 2014 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT */
window.matchMedia||(window.matchMedia=function(){"use strict";var a=window.styleMedia||window.media;if(!a){var b=document.createElement("style"),c=document.getElementsByTagName("script")[0],d=null;b.type="text/css",b.id="matchmediajs-test",c.parentNode.insertBefore(b,c),d="getComputedStyle"in window&&window.getComputedStyle(b,null)||b.currentStyle,a={matchMedium:function(a){var c="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return b.styleSheet?b.styleSheet.cssText=c:b.textContent=c,"1px"===d.width}}}return function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),function(a,b){"use strict";function c(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function d(){k.vW=a.innerWidth||n.clientWidth}function e(a){if(!(a in u)){var b={val:1,type:"x"},d=c(a||"");d&&(d.match(v)?(b.val=parseFloat(RegExp.$1,10),b.type=RegExp.$2):(b=!1,p("unknown descriptor used: "+a))),u[a]=b}return u[a]}function f(a,c,d){var e=b.createElement("img");a[k.ns].loadGC=function(){a&&(a[k.ns].loadGC=null,a=null,e=null)},e.onload=function(){var b;a&&(k.observer&&k.observer.connected&&(b=!0,k.observer.disconnect()),d(),k.addDimensions(a,e,c),b&&k.observer.observe(),a[k.ns].loadGC())},e.onerror=a[k.ns].loadGC,e.onabort=a[k.ns].loadGC,e.src=c.url}function g(a,b){return a.res-b.res}function h(a,b){var c,d,e,f,g=k.qsa(a,"source[srcset]");for(c=0,d=g.length;d>c;c++)e=g[c],f=e.getAttribute("srcset"),f&&b.push({srcset:f,media:e.getAttribute("media"),type:e.getAttribute("type"),sizes:e.getAttribute("sizes")})}b.createElement("picture");var i,j,k={},l=function(){},m=b.createElement("img"),n=b.documentElement;k.ns=("pf"+(new Date).getTime()).substr(0,9),k.onReady=function(){k.isReady=!0},k.isReady=!1,k.srcsetSupported="srcset"in m,k.sizesSupported="sizes"in m,k.currentSrcSupported="currentSrc"in m,k.srcsetAttr="data-srcset"+k.ns,k.shortSelector="picture > img, img[srcset]",k.selector=k.shortSelector,k.options={resQuantifier:1},k.srcsetSupported&&(k.selector+=", img["+k.srcsetAttr+"]"),k.qsa=function(a,b){return a.querySelectorAll(b)};var o=b.createElement("a");k.makeUrl=function(a){return o.href=a,o.href};var p=a.console&&"function"==typeof console.warn?function(a){console.warn(a)}:l;k.restrictsMixedContent="https:"===a.location.protocol,k.matchesMedia=function(b){return!b||a.matchMedia&&a.matchMedia(b).matches},k.vW=0;var q={minw:/\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,maxw:/\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/},r={};k.mMQ=function(a){var b,c,d=!1;return a?(r[a]||(b=a.match(q.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),c=a.match(q.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),b&&(b=parseFloat(b,10)*(b.indexOf("em")>0?k.getEmValue():1)),c&&(c=parseFloat(c,10)*(c.indexOf("em")>0?k.getEmValue():1)),r[a]={min:b,max:c}),b=r[a].min,c=r[a].max,(b&&k.vW>=b||c&&k.vW<=c)&&(d=!0),d):!0},k.matchesMedia("(min-width: 0.1em)")||(k.matchesMedia=k.mMQ),k.DPR=a.devicePixelRatio||1,k.lengthCache={};var s=/^([\d\.\-]+)(em|vw|px|%)$/;k.calcLength=function(a){var c,d,e=a,f=!1;if(!(e in k.lengthCache)){if(d=a.match(s))d[1]=parseFloat(d[1],10),f=!d[1]||d[1]<=0||"%"===d[2]?!1:"vw"===d[2]?k.vW*d[1]/100:"em"===d[2]?k.getEmValue()*d[1]:d[1];else if(a.indexOf("calc")>-1||parseInt(a,10)){a=a.replace("vw","%"),j||(j=b.createElement("div"),j.style.cssText="position: absolute; left: 0; visibility: hidden; display: block; padding: 0; margin: 0; border: none;"),i||(i=!0,n.insertBefore(j,n.firstChild)),j.style.width=0;try{j.style.width=a}catch(g){c=!0}f=j.offsetWidth,(c||0>=f)&&(f=!1)}k.lengthCache[e]=f,f===!1&&p("invalid source size value: "+e)}return k.lengthCache[e]},k.types={},k.types["image/jpeg"]=!0,k.types["image/gif"]=!0,k.types["image/png"]=!0,k.types["image/svg+xml"]=b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),k.createImageTest=function(a,c){var d,e=b.createElement("img"),f=function(){clearTimeout(d),k.isReady&&k.fillImgs(),e=null};k.types[a]="pending",e.onerror=function(){k.types[a]=!1,f()},e.onload=function(){k.types[a]=1===e.width,f()},d=setTimeout(e.onerror,300),e.src=c},k.verifyTypeSupport=function(a){return a?k.types[a]:!0},k.parseSize=function(){var a=/(\([^)]+\))?\s*(.+)/,b={};return function(c){var d;return b[c]||(d=(c||"").match(a),b[c]={media:d&&d[1],length:d&&d[2]}),b[c]}}(),k.parseSet=function(a){if(!a.candidates){var b,c,d,f,g,h=a.srcset;for(a.candidates=[];h;)h=h.replace(/^\s+/g,""),b=h.search(/\s/g),d=null,-1!==b?(c=h.slice(0,b),f=c.charAt(c.length-1),(","===f||""===c)&&(c=c.replace(/,+$/,""),d=""),h=h.slice(b+1),null===d&&(g=h.indexOf(","),-1!==g?(d=h.slice(0,g),h=h.slice(g+1)):(d=h,h=""))):(c=h,h=""),c&&(d=e(d))&&a.candidates.push({url:c.replace(/^,+/,""),desc:d,set:a})}return a.candidates};var t,u={},v=/^([\d\.]+)(w|x)$/;k.getEmValue=function(){if(!t&&b.body){var a=b.createElement("div"),c=b.body,d=n.style.fontSize,e=c&&c.style.fontSize;a.style.cssText="position:absolute;font-size:1em;width:1em",n.style.fontSize="100%",c.style.fontSize="100%";try{c.appendChild(a),t=a.offsetWidth,c.removeChild(a),t=parseFloat(t,10)}catch(f){}n.style.fontSize=d,c.style.fontSize=e}return t||16},k.calcLengthFromList=function(a){var b,d,e,f,g,h,i=c(a).split(/\s*,\s*/),j=!1;for(g=0,h=i.length;h>g&&(b=i[g],d=k.parseSize(b),e=d.length,f=d.media,!e||!k.matchesMedia(f)||(j=k.calcLength(e))===!1);g++);return j===!1?k.vW:j},k.setResolution=function(a,b){var c=a.desc;return"w"===c.type?(a.cWidth=k.calcLengthFromList(b||"100vw"),a.res=c.val/a.cWidth):a.res=c.val,a},k.prepareCandidates=function(a){var b,c;if(a){b=k.parseSet(a);for(var d=0,e=b.length;e>d;d++)c=b[d],c.descriptor&&c.descriptor.skip||k.setResolution(c,a.sizes)}return b},k.applyCandidateFromSet=function(a,b){var c,d,e,f,h,i=k.DPR*k.options.resQuantifier,j=b[k.ns].curCandidate;if(j&&a[0]&&j.set===a[0].set&&j.res>=i)e=j;else{a.sort(g),d=a.length,e=a[d-1];for(var l=0;d>l;l++)if(c=a[l],c.res>=i){e=c;break}}f=b[k.ns].curSrc||b.currentSrc||b.src,e&&((h=k.makeUrl(e.url))!==f?k.restrictsMixedContent&&!e.url.indexOf("http:")?p("insecure: "+h):k.loadImg(b,e,h):"w"===e.desc.type&&k.addDimensions(b,null,e))},k.loadImg=function(a,b,c){var d=a[k.ns].loadGC,e=!a.complete||!a.getAttribute("src"),g=!1,h=function(){var c;g||(g=!0,a.src=b.url,"image/svg+xml"===b.set.type&&(c=a.style.width,a.style.width=a.offsetWidth+1+"px",a.offsetWidth+1&&(a.style.width=c)))};d&&d(),k.currentSrcSupported||(a.currentSrc=c),a[k.ns].curSrc=c,a[k.ns].curCandidate=b,(k.options.addDimensions||!e)&&f(a,b,h),e&&h()},k.addDimensions=function(a,b,c){k.options.addDimensions&&!a[k.ns].dims&&(b&&(a[k.ns].nW=b.naturalWidth||b.width,a[k.ns].nH=b.naturalHeight||b.height),"x"===c.desc.type?a.setAttribute("width",parseInt(a[k.ns].nW/c.res/k.options.resQuantifier,10)):"w"===c.desc.type&&a.setAttribute("width",parseInt(c.cWidth,10)))},k.applyBestCandidate=function(a){var b,c=k.getSet(a);"pending"!==c&&(c&&(b=k.prepareCandidates(c),k.applyCandidateFromSet(b,a)),a[k.ns].evaluated=!0)},k.getSet=function(a){var b,c,d,e=!1,f=a[k.ns].sets;for(b=0;b<f.length&&!e;b++)if(c=f[b],c.srcset&&k.matchesMedia(c.media)&&(d=k.verifyTypeSupport(c.type))){"pending"===d&&(c=d),e=c;break}return e};var w=k.srcsetSupported&&!k.sizesSupported;k.parseSets=function(a,b,c){var d,e,f,g,i="PICTURE"===b.nodeName.toUpperCase();"src"in a[k.ns]&&!c.reparseSrc||(a[k.ns].src=a.getAttribute("src")),"dims"in a[k.ns]&&!c.reparseDimensions||(a[k.ns].dims=a.getAttribute("width")&&a.getAttribute("height")),"srcset"in a[k.ns]&&!c.reparseSrcset||(d=a.getAttribute("srcset"),f=!d&&a[k.ns].srcset,a[k.ns].srcset=d,k.srcsetSupported&&(d?(a.setAttribute(k.srcsetAttr,d),a.removeAttribute("srcset")):a.removeAttribute(k.srcsetAttr))),a[k.ns].sets=[],i&&h(b,a[k.ns].sets),a[k.ns].srcset?(e={srcset:a[k.ns].srcset,sizes:a.getAttribute("sizes")},a[k.ns].sets.push(e),g=w||a[k.ns].src?k.hasWDescripor(e):!1,!g&&a[k.ns].src&&(e.srcset+=", "+a[k.ns].src,e.candidates=!1)):a[k.ns].src&&a[k.ns].sets.push({srcset:a[k.ns].src,sizes:null}),a[k.ns].supported=!(i||f||e&&!k.srcsetSupported||g),a[k.ns].parsed=!0},k.hasWDescripor=function(a){if(!a)return!1;var b,c=k.parseSet(a),d=!1;for(b=0;b<c.length;b++)if("w"===c[0].desc.type){d=!0;break}return d},k.fillImg=function(a,b){a[k.ns]||(a[k.ns]={}),(b.reevaluate||b.reparse||!a[k.ns].evaluated)&&((!a[k.ns].parsed||b.reparse)&&k.parseSets(a,a.parentNode,b),a[k.ns].supported?a[k.ns].evaluated=!0:(a[k.ns].evaluated=!1,k.applyBestCandidate(a)))},k.setupRun=function(a){(!a||a.reevaluate||a.reparse)&&(k.lengthCache={})},k.teardownRun=function(){var a;i&&(i=!1,a=j.parentNode,a&&a.removeChild(j))};var x=!1,y=function(a){var c,d,e,f,g=a||{};if((g.reparseSrcset||g.reparseSrc||g.reparseDimensions)&&(f=!0,g.reparse=!0),f&&!g.elements)throw"reparse should only run on specific elements.";if(g.elements&&1===g.elements.nodeType&&("IMG"===g.elements.nodeName.toUpperCase()?g.elements=[g.elements]:(g.context=g.elements,g.elements=null)),c=g.elements||k.qsa(g.context||b,g.reevaluate||g.reparse?k.selector:k.shortSelector),e=c.length){for(x=!0,k.setupRun(g),d=0;e>d;d++)k.fillImg(c[d],g);k.teardownRun(g)}};a.HTMLPictureElement&&(y=l,k.fillImg=l),y._=k,k.fillImgs=y,y.setOptions=function(a,b){k.options[a]!==b&&(k.options[a]=b,x&&k.fillImgs({reevaluate:!0}))},a.HTMLPictureElement||(!function(){var c,e=a.attachEvent?/^loade|^c/:/^loade|^c|^i/,f=function(){b.body&&(e.test(b.readyState||"")?(clearInterval(g),k.fillImgs(),k.onReady(),k.onReady=l):k.fillImgs())},g=setInterval(f,333),h=function(){d(),k.fillImgs({reevaluate:!0})},i=function(){a.clearTimeout(c),c=a.setTimeout(h,99)};a.addEventListener?a.addEventListener("resize",i,!1):a.attachEvent&&a.attachEvent("onresize",i),setTimeout(f,b.body?9:99)}(),d(),k.createImageTest("image/webp","data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=")),"object"==typeof module&&"object"==typeof module.exports?module.exports=y:"function"==typeof define&&define.amd?(a.picturefill=y,define(function(){return y})):"object"==typeof a&&(a.picturefill=y)}(this,this.document);