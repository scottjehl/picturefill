/*! Picturefill - v2.1.0 - 2014-09-13
* http://scottjehl.github.io/picturefill
* Copyright (c) 2014 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT */
window.matchMedia||(window.matchMedia=function(){"use strict";var a=window.styleMedia||window.media;if(!a){var b=document.createElement("style"),c=document.getElementsByTagName("script")[0],d=null;b.type="text/css",b.id="matchmediajs-test",c.parentNode.insertBefore(b,c),d="getComputedStyle"in window&&window.getComputedStyle(b,null)||b.currentStyle,a={matchMedium:function(a){var c="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return b.styleSheet?b.styleSheet.cssText=c:b.textContent=c,"1px"===d.width}}}return function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),function(a,b){"use strict";function c(a,b,c){var e,f,g,h,i=b.childNodes;for(e=0,f=i.length;f>e&&(g=i[e],g!==a);e++)1===g.nodeType&&"SOURCE"===g.nodeName.toUpperCase()&&(h=g.getAttribute("srcset"),h?c.push({srcset:h,media:g.getAttribute("media"),type:g.getAttribute("type"),sizes:g.getAttribute("sizes")}):d.hasConsole&&console.warn("Couldn't find srcset attribute on source. Also Note: The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`."))}if(a.HTMLPictureElement)return void(a.picturefill=function(){});b.createElement("picture");var d={},e=function(){},f=b.createElement("img");d.ns="picturefill"+(new Date).getTime(),d.onReady=function(){d.isReady=!0},d.isReady=!1,d.srcsetSupported="srcset"in f,d.sizesSupported="sizes"in f,d.currentSrcSupported="currentSrc"in f,d.hasConsole=a.console&&"function"==typeof console.warn,d.picutreFillAttribute="data-"+d.ns+"srcset",d.shortSelector="picture > img, img[srcset]",d.selector=d.shortSelector+", img["+d.picutreFillAttribute+"]",b.querySelectorAll?(d.qsa=function(a,b){return a.querySelectorAll(b)},d.qs=function(a,b){return a.querySelector(b)}):(d.qsa=function(b,c){return(a.jQuery&&jQuery.find||e)(c,b)||[]},d.qs=function(b,c){return(a.jQuery&&jQuery.find||e)(c,b)[0]}),d.trim=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},d.endsWith=function(a,b){return a.endsWith?a.endsWith(b):-1!==a.indexOf(b,a.length-b.length)},d.restrictsMixedContent=function(){return"https:"===a.location.protocol},d.matchesMedia=function(b){return!b||a.matchMedia&&a.matchMedia(b).matches},d.getDpr=function(){return a.devicePixelRatio||1},d.getWidthFromLength=function(a){var c=a;return d.widthCache[c]||(a=a&&a.indexOf("%")<0&&(parseFloat(a)>0||a.indexOf("calc(")>-1)?a:"100vw",a=a.replace("vw","%"),d.lengthEl||(d.lengthEl=b.createElement("div"),d.lengthEl.style.cssText="position: absolute; left: 0; visibility: hidden;"),d.lengthElInstered||(b.documentElement.insertBefore(d.lengthEl,b.documentElement.firstChild),d.lengthElInstered=!0),d.lengthEl.style.width=a,d.lengthEl.offsetWidth<=0&&(d.lengthEl.style.width="100%"),d.widthCache[c]=d.lengthEl.offsetWidth),d.widthCache[c]},d.types={},d.types["image/jpeg"]=!0,d.types["image/gif"]=!0,d.types["image/png"]=!0,d.types["image/svg+xml"]=b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),d.createImageTest=function(a,c){var e,f=b.createElement("img"),g=function(){clearTimeout(e),i(),f=null};d.types[a]="pending",f.onerror=function(){d.types[a]=!1,g()},f.onload=function(){d.types[a]=1===f.width,g()},f.src=c,e=setTimeout(f.onerror,300)},d.verifyTypeSupport=function(a){return a?d.types[a]:!0};var g=/(\([^)]+\))?\s*(.+)/g;d.parseSize=function(a){var b=g.exec(a);return{media:b&&b[1],length:b&&b[2]}},d.findWidthFromSourceSize=function(a){for(var b,c=d.trim(a).split(/\s*,\s*/),e=0,f=c.length;f>e;e++){var g=c[e],h=d.parseSize(g),i=h.length,j=h.media;if(i&&d.matchesMedia(j)){b=i;break}}return d.getWidthFromLength(b)},d.parseSrcset=function(a){if(a.parsedSrcset)return a.parsedSrcset;var b=[],c=a.srcset;for(a.parsedSrcset=b;c;){c=c.replace(/^\s+/g,"");var d,e=c.search(/\s/g),f=null;if(-1!==e){d=c.slice(0,e);var g=d.charAt(d.length-1);if((","===g||""===d)&&(d=d.replace(/,+$/,""),f=""),c=c.slice(e+1),null===f){var h=c.indexOf(",");-1!==h?(f=c.slice(0,h),c=c.slice(h+1)):(f=c,c="")}}else d=c,c="";(d||f)&&b.push({url:d,descriptor:f})}return b};var h=/(^\s+|\s+$)/g;d.parseDescriptor=function(a,b){var c,e=b||"100vw",f=a&&a.replace(h,""),g=d.findWidthFromSourceSize(e);if(f)for(var i=f.split(" "),j=i.length+1;j>=0;j--)if(void 0!==i[j]){var k=i[j],l=k&&k.slice(k.length-1);if("h"!==l&&"w"!==l||d.sizesSupported){if("x"===l){var m=k&&parseFloat(k,10);c=m&&!isNaN(m)?m:1}}else c=parseFloat(parseInt(k,10)/g)}return c||1},d.getCandidatesFromSourceSet=function(a){var b,c,e=[];if(a){b=d.parseSrcset(a);for(var f=0,g=b.length;g>f;f++)c=b[f],e.push({url:c.url,resolution:d.parseDescriptor(c.descriptor,c.sizes)})}return e},d.applyBestCandidateFromSrcSet=function(a,b){var c,e,f;a.sort(d.ascendingSort),e=a.length,f=a[e-1];for(var g=0;e>g;g++)if(c=a[g],c.resolution>=d.getDpr()){f=c;break}!f&&b[d.ns].src&&(f={url:b[d.ns].src}),f&&!d.endsWith(b.src,f.url)&&(d.restrictsMixedContent()&&"http:"===f.url.substr(0,"http:".length).toLowerCase()?d.hasConsole&&console.warn("Blocked mixed content image "+f.url):(b.src=f.url,d.currentSrcSupported||(b.currentSrc=b.src)))},d.applyBestCandidate=function(a){var b,c=d.getFirstMatch(a);"pending"!=c&&(b=d.getCandidatesFromSourceSet(c),d.applyBestCandidateFromSrcSet(b,a),a[d.ns].evaluated=!0)},d.ascendingSort=function(a,b){return a.resolution-b.resolution},d.removeVideoShim=function(a){var b=d.qs(a,"video, audio");if(b){for(var c=b.getElementsByTagName("source");c.length;)a.insertBefore(c[0],b);b.parentNode.removeChild(b)}},d.getFirstMatch=function(a){var b,c,e,f=!1,g=a[d.ns].candidates;for(b=0;b<g.length&&!f;b++)if(c=g[b],c.srcset&&d.matchesMedia(c.media)&&(e=d.verifyTypeSupport(c.type))){"pending"==e&&(c=e),f=c;break}return f},d.parseCanditates=function(a,b,e){var f,g="PICTURE"===b.nodeName.toUpperCase();a[d.ns].supported=g||!d.srcsetSupported||!d.sizesSupported&&-1!=a.srcset.indexOf("w")?!1:!0,a[d.ns].candidates=[],"src"in a[d.ns]&&!e.reparseSrc||(a[d.ns].src=a.getAttribute("src")),"srcset"in a[d.ns]&&!e.reparseSrcset&&!a.srcset||(f=a.getAttribute("srcset"),a[d.ns].srcset=f,f?(a.setAttribute(d.picutreFillAttribute,a[d.ns].srcset),d.srcsetSupported&&!d.sizesSupported?a.srcset="":a.removeAttribute("srcset")):a.removeAttribute(d.picutreFillAttribute)),g&&(d.removeVideoShim(b),c(a,b,a[d.ns].candidates)),a[d.ns].srcset&&a[d.ns].candidates.push({srcset:a[d.ns].srcset,sizes:a.getAttribute("sizes")}),a[d.ns].parsed=!0},d._forEachImg=function(a,b){a[d.ns]||(a[d.ns]={}),(b.reevaluate||b.reparse||!a[d.ns].evaluated)&&((!a[d.ns].parsed||b.reparse)&&d.parseCanditates(a,a.parentNode,b),a[d.ns].supported||(a[d.ns].evaluated=!1,d.applyBestCandidate(a)))},d.setupRun=function(){d.widthCache={}},d.teardownRun=function(){d.lengthElInstered&&(d.lengthElInstered=!1,b.documentElement.removeChild(d.lengthEl))};var i=function(a){var c,e,f,g=a||{};if(d.hasConsole&&g.reparse&&!g.elements&&console.warn("reparse should only run on specific elements. reparse option also removes dodged `srcset and `src attributes!"),c=g.elements||d.qsa(b,g.reevaluate?d.selector:d.shortSelector),f=c.length){for(d.setupRun(),e=0;f>e;e++)d._forEachImg(c[e],g);d.teardownRun()}};i._=d,function(){var c=function(a){/^loade|^i|^c/.test(b.readyState||"")||a&&"DOMContentLoaded"==a.type?(clearInterval(e),i(),d.onReady(),b.removeEventListener&&b.removeEventListener("DOMContentLoaded",c)):i()},e=setInterval(c,250),f=function(){i({reevaluate:!0})};if(a.addEventListener&&b.addEventListener){var g;a.addEventListener("resize",function(){a.clearTimeout(g),g=a.setTimeout(f,99)},!1),b.addEventListener("DOMContentLoaded",c)}}(),d.createImageTest("image/webp","data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),"object"==typeof module&&"object"==typeof module.exports?module.exports=i:"function"==typeof define&&define.amd?(a.picturefill=i,define(function(){return i})):"object"==typeof a&&(a.picturefill=i)}(this,this.document);