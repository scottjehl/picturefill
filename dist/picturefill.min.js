/*! Picturefill - v2.1.0 - 2014-09-21
* http://scottjehl.github.io/picturefill
* Copyright (c) 2014 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT */
window.matchMedia||(window.matchMedia=function(){"use strict";var a=window.styleMedia||window.media;if(!a){var b=document.createElement("style"),c=document.getElementsByTagName("script")[0],d=null;b.type="text/css",b.id="matchmediajs-test",c.parentNode.insertBefore(b,c),d="getComputedStyle"in window&&window.getComputedStyle(b,null)||b.currentStyle,a={matchMedium:function(a){var c="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return b.styleSheet?b.styleSheet.cssText=c:b.textContent=c,"1px"===d.width}}}return function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),function(a,b){"use strict";function c(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function d(a,b){return a.querySelectorAll(b)}function e(){l.vW=a.innerWidth||o.clientWidth}function f(a){if(!(a in v)){var b={val:1,type:"x"},d=c(a||"");d&&(d.match(w)?(b.val=parseFloat(RegExp.$1,10),b.type=RegExp.$2):(b=!1,q("unknown descriptor used: "+a))),v[a]=b}return v[a]}function g(a,c,d){var e=b.createElement("img");a[l.ns].loadGC=function(){a&&(a[l.ns].loadGC=null,a=null,e=null)},e.onload=function(){var b;a&&(l.observer&&l.observer.connected&&(b=!0,l.observer.disconnect()),d(),l.addDimensions(a,e,c),b&&l.observer.observe(),a[l.ns].loadGC())},e.onerror=a[l.ns].loadGC,e.onabort=a[l.ns].loadGC,e.src=c.url}function h(a,b){return a.res-b.res}function i(a,b){var c,d,e,f,g=a.getElementsByTagName("source");for(c=0,d=g.length;d>c;c++)e=g[c],f=e.getAttribute("srcset"),f?b.push({srcset:f,media:e.getAttribute("media"),type:e.getAttribute("type"),sizes:e.getAttribute("sizes")}):e.getAttribute("src")&&q("The `src` attribute is invalid on `picture source` element, use `srcset`.")}b.createElement("picture");var j,k,l={},m=function(){},n=b.createElement("img"),o=b.documentElement;l.ns=("pf"+(new Date).getTime()).substr(0,9),l.onReady=function(){l.isReady=!0},l.isReady=!1,l.srcsetSupported="srcset"in n,l.sizesSupported="sizes"in n,l.currentSrcSupported="currentSrc"in n,l.srcsetAttr="data-srcset"+l.ns,l.shortSelector="picture > img, img[srcset]",l.selector=l.shortSelector,l.options={resQuantifier:1},l.srcsetSupported&&(l.selector+=", img["+l.srcsetAttr+"]");var p=b.createElement("a");l.makeUrl=function(a){return p.href=a,p.href};var q=a.console&&"function"==typeof console.warn?function(a){console.warn(a)}:m;l.restrictsMixedContent="https:"===a.location.protocol,l.matchesMedia=function(b){return!b||a.matchMedia&&a.matchMedia(b).matches},l.vW=0;var r={minw:/\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,maxw:/\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/},s={};l.mMQ=function(a){var b,c,d=!1;return a?(s[a]||(b=a.match(r.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),c=a.match(r.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),b&&(b=parseFloat(b,10)*(b.indexOf("em")>0?l.getEmValue():1)),c&&(c=parseFloat(c,10)*(c.indexOf("em")>0?l.getEmValue():1)),s[a]={min:b,max:c}),b=s[a].min,c=s[a].max,(b&&l.vW>=b||c&&l.vW<=c)&&(d=!0),d):!0},l.matchesMedia("(min-width: 0.1em)")||(l.matchesMedia=l.mMQ),l.DPR=a.devicePixelRatio||1,l.lengthCache={};var t=/^([\d\.\-]+)(em|vw|px|%)$/;l.calcLength=function(a){var c,d,e=a,f=!1;if(!(e in l.lengthCache)){if(d=a.match(t))d[1]=parseFloat(d[1],10),f=!d[1]||d[1]<=0||"%"===d[2]?!1:"vw"===d[2]?l.vW*d[1]/100:"em"===d[2]?l.getEmValue()*d[1]:d[1];else if(a.indexOf("calc")>-1||parseInt(a,10)){a=a.replace("vw","%"),k||(k=b.createElement("div"),k.style.cssText="position: absolute; left: 0; visibility: hidden; display: block; padding: 0; margin: 0; border: none;"),j||(j=!0,o.insertBefore(k,o.firstChild)),k.style.width=0;try{k.style.width=a}catch(g){c=!0}f=k.offsetWidth,(c||0>=f)&&(f=!1)}l.lengthCache[e]=f,f===!1&&q("invalid source size value: "+e)}return l.lengthCache[e]},l.types={},l.types["image/jpeg"]=!0,l.types["image/gif"]=!0,l.types["image/png"]=!0,l.types["image/svg+xml"]=b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),l.createImageTest=function(a,c){var d,e=b.createElement("img"),f=function(){clearTimeout(d),l.isReady&&l.fillImgs(),e=null};l.types[a]="pending",e.onerror=function(){l.types[a]=!1,f()},e.onload=function(){l.types[a]=1===e.width,f()},d=setTimeout(e.onerror,300),e.src=c},l.verifyTypeSupport=function(a){return a?l.types[a]:!0},l.parseSize=function(){var a=/(\([^)]+\))?\s*(.+)/,b={};return function(c){var d;return b[c]||(d=(c||"").match(a),b[c]={media:d&&d[1],length:d&&d[2]}),b[c]}}(),l.parseSet=function(a){if(!a.candidates){var b,c,d,e,g,h=a.srcset;for(a.candidates=[];h;)h=h.replace(/^\s+/g,""),b=h.search(/\s/g),d=null,-1!==b?(c=h.slice(0,b),e=c.charAt(c.length-1),(","===e||""===c)&&(c=c.replace(/,+$/,""),d=""),h=h.slice(b+1),null===d&&(g=h.indexOf(","),-1!==g?(d=h.slice(0,g),h=h.slice(g+1)):(d=h,h=""))):(c=h,h=""),c&&(d=f(d))&&a.candidates.push({url:c.replace(/^,+/,""),desc:d,set:a})}return a.candidates};var u,v={},w=/^([\d\.]+)(w|x)$/;l.getEmValue=function(){if(!u&&b.body){var a=b.createElement("div"),c=b.body,d=o.style.fontSize,e=c&&c.style.fontSize;a.style.cssText="position:absolute;font-size:1em;width:1em",o.style.fontSize="100%",c.style.fontSize="100%";try{c.appendChild(a),u=a.offsetWidth,c.removeChild(a),u=parseFloat(u,10)}catch(f){}o.style.fontSize=d,c.style.fontSize=e}return u||16},l.calcLengthFromList=function(a){var b,d,e,f,g,h,i=c(a).split(/\s*,\s*/),j=!1;for(g=0,h=i.length;h>g&&(b=i[g],d=l.parseSize(b),e=d.length,f=d.media,!e||!l.matchesMedia(f)||(j=l.calcLength(e))===!1);g++);return j===!1?l.vW:j},l.setResolution=function(a,b){var c=a.desc;return"w"===c.type?(a.cWidth=l.calcLengthFromList(b||"100vw"),a.res=c.val/a.cWidth):a.res=c.val,a},l.prepareCandidates=function(a){var b,c;if(a){b=l.parseSet(a);for(var d=0,e=b.length;e>d;d++)c=b[d],c.descriptor&&c.descriptor.skip||l.setResolution(c,a.sizes)}return b},l.applyCandidateFromSet=function(a,b){var c,d,e,f,g,i=l.DPR*l.options.resQuantifier,j=b[l.ns].curCandidate;if(j&&a[0]&&j.set===a[0].set&&j.res>=i)e=j;else{a.sort(h),d=a.length,e=a[d-1];for(var k=0;d>k;k++)if(c=a[k],c.res>=i){e=c;break}}f=b[l.ns].curSrc||b.currentSrc||b.src,e&&((g=l.makeUrl(e.url))!==f?l.restrictsMixedContent&&!e.url.indexOf("http:")?q("insecure: "+g):l.loadImg(b,e,g):"w"===e.desc.type&&l.addDimensions(b,null,e))},l.loadImg=function(a,b,c){var d=a[l.ns].loadGC,e=!a.complete||!a.getAttribute("src"),f=!1,h=function(){var c;f||(f=!0,a.src=b.url,"image/svg+xml"===b.set.type&&(c=a.style.width,a.style.width=a.offsetWidth+1+"px",a.offsetWidth+1&&(a.style.width=c)))};d&&d(),l.currentSrcSupported||(a.currentSrc=c),a[l.ns].curSrc=c,a[l.ns].curCandidate=b,(l.options.addDimensions||!e)&&g(a,b,h),e&&h()},l.addDimensions=function(a,b,c){l.options.addDimensions&&!a[l.ns].dims&&(b&&(a[l.ns].nW=b.naturalWidth||b.width,a[l.ns].nH=b.naturalHeight||b.height),"x"===c.desc.type?a.setAttribute("width",parseInt(a[l.ns].nW/c.res/l.options.resQuantifier,10)):"w"===c.desc.type&&a.setAttribute("width",parseInt(c.cWidth,10)))},l.applyBestCandidate=function(a){var b,c=l.getSet(a);"pending"!==c&&(c&&(b=l.prepareCandidates(c),l.applyCandidateFromSet(b,a)),a[l.ns].evaluated=!0)},l.getSet=function(a){var b,c,d,e=!1,f=a[l.ns].sets;for(b=0;b<f.length&&!e;b++)if(c=f[b],c.srcset&&l.matchesMedia(c.media)&&(d=l.verifyTypeSupport(c.type))){"pending"===d&&(c=d),e=c;break}return e};var x=l.srcsetSupported&&!l.sizesSupported;l.parseSets=function(a,b,c){var d,e,f,g,h="PICTURE"===b.nodeName.toUpperCase();"src"in a[l.ns]&&!c.reparseSrc||(a[l.ns].src=a.getAttribute("src")),"dims"in a[l.ns]&&!c.reparseDimensions||(a[l.ns].dims=a.getAttribute("width")&&a.getAttribute("height")),"srcset"in a[l.ns]&&!c.reparseSrcset||(d=a.getAttribute("srcset"),f=!d&&a[l.ns].srcset,a[l.ns].srcset=d,l.srcsetSupported&&(d?(a.setAttribute(l.srcsetAttr,d),a.removeAttribute("srcset")):a.removeAttribute(l.srcsetAttr))),a[l.ns].sets=[],h&&i(b,a[l.ns].sets),a[l.ns].srcset?(e={srcset:a[l.ns].srcset,sizes:a.getAttribute("sizes")},a[l.ns].sets.push(e),g=x||a[l.ns].src?l.hasWDescripor(e):!1,!g&&a[l.ns].src&&(e.srcset+=", "+a[l.ns].src,e.candidates=!1)):a[l.ns].src&&a[l.ns].sets.push({srcset:a[l.ns].src,sizes:null}),a[l.ns].supported=!(h||f||e&&!l.srcsetSupported||g),a[l.ns].parsed=!0},l.hasWDescripor=function(a){if(!a)return!1;var b,c=l.parseSet(a),d=!1;for(b=0;b<c.length;b++)if("w"===c[0].desc.type){d=!0;break}return d},l.fillImg=function(a,b){a[l.ns]||(a[l.ns]={}),(b.reevaluate||b.reparse||!a[l.ns].evaluated)&&((!a[l.ns].parsed||b.reparse)&&l.parseSets(a,a.parentNode,b),a[l.ns].supported?a[l.ns].evaluated=!0:(a[l.ns].evaluated=!1,l.applyBestCandidate(a)))};var y;l.setupRun=function(a){(!a||a.reevaluate||a.reparse)&&(l.lengthCache={}),a&&a.reevaluate&&!a.elements&&!a.context&&clearTimeout(y),e()},l.teardownRun=function(){var a;j&&(j=!1,a=k.parentNode,a&&a.removeChild(k))};var z=!1,A=function(a){var c,e,f,g,h=a||{};if((h.reparseSrcset||h.reparseSrc||h.reparseDimensions)&&(g=!0,h.reparse=!0),g&&!h.elements)throw"reparse should only run on specific elements.";if(h.elements&&1===h.elements.nodeType&&("IMG"===h.elements.nodeName.toUpperCase()?h.elements=[h.elements]:(h.context=h.elements,h.elements=null)),c=h.elements||d(h.context||b,h.reevaluate||h.reparse?l.selector:l.shortSelector),f=c.length){for(z=!0,l.setupRun(h),e=0;f>e;e++)l.fillImg(c[e],h);l.teardownRun(h)}};a.HTMLPictureElement&&(A=m,l.fillImg=m),A._=l,l.fillImgs=A,A.setOptions=function(a,b){l.options[a]!==b&&(l.options[a]=b,z&&l.fillImgs({reevaluate:!0}))},a.HTMLPictureElement||(!function(){var c=a.attachEvent?/^loade|^c/:/^loade|^c|^i/,d=function(){b.body&&(c.test(b.readyState||"")?(clearInterval(e),l.fillImgs(),l.onReady(),l.onReady=m):l.fillImgs())},e=setInterval(d,333),f=function(){l.fillImgs({reevaluate:!0})},g=function(){a.clearTimeout(y),y=a.setTimeout(f,99)};a.addEventListener?a.addEventListener("resize",g,!1):a.attachEvent&&a.attachEvent("onresize",g),setTimeout(d,b.body?9:99)}(),l.createImageTest("image/webp","data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=")),"object"==typeof module&&"object"==typeof module.exports?module.exports=A:"function"==typeof define&&define.amd?(a.picturefill=A,define(function(){return A})):"object"==typeof a&&(a.picturefill=A)}(this,this.document);