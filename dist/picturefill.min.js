/*! Picturefill - v2.1.0 - 2014-09-14
* http://scottjehl.github.io/picturefill
* Copyright (c) 2014 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT */
window.matchMedia||(window.matchMedia=function(){"use strict";var a=window.styleMedia||window.media;if(!a){var b=document.createElement("style"),c=document.getElementsByTagName("script")[0],d=null;b.type="text/css",b.id="matchmediajs-test",c.parentNode.insertBefore(b,c),d="getComputedStyle"in window&&window.getComputedStyle(b,null)||b.currentStyle,a={matchMedium:function(a){var c="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return b.styleSheet?b.styleSheet.cssText=c:b.textContent=c,"1px"===d.width}}}return function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),function(a,b){"use strict";function c(a,b,c){var d,e,g,h,i,j=b.childNodes;for(d=0,e=j.length;e>d&&(g=j[d],g!=a);d++)(i=g.nodeName)&&"SOURCE"===i.toUpperCase()&&(h=g.getAttribute("srcset"),h?c.push({srcset:h,media:g.getAttribute("media"),type:g.getAttribute("type"),sizes:g.getAttribute("sizes")}):f.hasConsole&&l.debug&&g.getAttribute("src")&&console.warn("Couldn't find srcset attribute on source. Note: The `src` attribute is invalid on `picture` `source` element; use `srcset`."))}b.createElement("picture");var d,e,f={},g=function(){},h=b.createElement("img"),i="querySelectorAll"in b;f.ns="picturefill"+(new Date).getTime(),f.onReady=function(){f.isReady=!0},f.isReady=!1,f.srcsetSupported="srcset"in h,f.sizesSupported="sizes"in h,f.currentSrcSupported="currentSrc"in h,f.hasConsole=a.console&&"function"==typeof console.warn,f.picutreFillAttribute="data-"+f.ns+"srcset",f.shortSelector="picture > img, img[srcset]",f.selector=f.shortSelector,f.srcsetSupported&&(f.selector+=", img["+f.picutreFillAttribute+"]"),i?(f.qsa=function(a,b){return a.querySelectorAll(b)},f.qs=function(a,b){return a.querySelector(b)}):(f.qsa=function(b,c){return(a.jQuery&&jQuery.find||g)(c,b)||[]},f.qs=function(b,c){return(a.jQuery&&jQuery.find||g)(c,b)[0]}),f.makeUrl=function(){var a=b.createElement("a");return function(b){return a.href=b,i?a.href:a.getAttribute("href",4)}}(),f.trim=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},f.restrictsMixedContent="https:"===a.location.protocol,f.matchesMedia=function(b){return!b||a.matchMedia&&a.matchMedia(b).matches},f.DPR=a.devicePixelRatio||1,f.widthCache={},f.getWidthFromLength=function(a){var c=a;if(!f.widthCache[c]){a=a&&a.indexOf("%")<0&&(parseFloat(a)>0||a.indexOf("calc(")>-1)?a:"100vw",a=a.replace("vw","%"),e||(e=b.createElement("div"),e.style.cssText="position: absolute; left: 0; visibility: hidden; display: block; padding: 0; margin: 0; border: none;"),d||(d=!0,b.documentElement.insertBefore(e,b.documentElement.firstChild));try{e.style.width=a}catch(g){}e.offsetWidth<=0&&(e.style.width="100%"),f.widthCache[c]=e.offsetWidth}return f.widthCache[c]},f.types={},f.types["image/jpeg"]=!0,f.types["image/gif"]=!0,f.types["image/png"]=!0,f.types["image/svg+xml"]=b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),f.createImageTest=function(a,c){var d,e=b.createElement("img"),g=function(){clearTimeout(d),f.fillImgs(),e=null};f.types[a]="pending",e.onerror=function(){f.types[a]=!1,g()},e.onload=function(){f.types[a]=1===e.width,g()},d=setTimeout(e.onerror,300),e.src=c},f.verifyTypeSupport=function(a){return a?f.types[a]:!0},f.parseSize=function(){var a=/(\([^)]+\))?\s*(.+)/,b={};return function(c){var d;return b[c]||(d=(c||"").match(a),b[c]={media:d&&d[1],length:d&&d[2]}),b[c]}}(),f.parseSrcset=function(a){if(a.parsedSrcset)return a.parsedSrcset;var b,c,d,e,g,h=a.srcset;for(a.parsedSrcset=[];h;)h=h.replace(/^\s+/g,""),b=h.search(/\s/g),d=null,-1!==b?(c=h.slice(0,b),e=c.charAt(c.length-1),(","===e||""===c)&&(c=c.replace(/,+$/,""),d=""),h=h.slice(b+1),null===d&&(g=h.indexOf(","),-1!==g?(d=h.slice(0,g),h=h.slice(g+1)):(d=h,h=""))):(c=h,h=""),(c||d)&&a.parsedSrcset.push({url:c,descriptor:f.parseDescriptor(d,a.sizes)});return a.parsedSrcset};var j=/(^\s+|\s+$)/g,k={};f.parseDescriptor=function(a){if(!k[a]){var b,c,d,e,f,g=a&&a.replace(j,""),h={value:1,type:"x"};if(g)for(b=g.split(" "),c=b.length+1;c>=0;c--)void 0!==b[c]&&(d=b[c],e=d&&d.slice(d.length-1),"h"===e||"w"===e?h.value=parseInt(d,10):"x"===e&&(f=d&&parseFloat(d,10),h.value=f&&!isNaN(f)?f:1),h.type=e);h.value||(h.value=1),k[a]=h}return k[a]},f.findWidthFromSourceSize=function(a){var b,c,d,e,g,h,i,j=f.trim(a).split(/\s*,\s*/);for(h=0,i=j.length;i>h;h++)if(c=j[h],d=f.parseSize(c),e=d.length,g=d.media,e&&f.matchesMedia(g)){b=e;break}return f.getWidthFromLength(b)},f.getResolution=function(a,b){var c=b||"100vw",d=a.value;return"w"==a.type&&(d/=f.findWidthFromSourceSize(c)),d||1},f.getCandidatesFromSourceSet=function(a){var b,c,d=[];if(a){b=f.parseSrcset(a);for(var e=0,g=b.length;g>e;e++)c=b[e],d.push({url:c.url,resolution:f.getResolution(c.descriptor,a.sizes)})}return d},f.applyBestCandidateFromSrcSet=function(a,b){var c,d,e;a.sort(f.ascendingSort),d=a.length,e=a[d-1];for(var g=0;d>g;g++)if(c=a[g],c.resolution>=f.DPR){e=c;break}!e&&b[f.ns].src&&(e={url:b[f.ns].src}),e&&f.makeUrl(e.url)!=b.src&&(f.restrictsMixedContent&&"http:"===e.url.substr(0,"http:".length).toLowerCase()?f.hasConsole&&console.warn("Blocked mixed content image "+e.url):(b.src=e.url,f.currentSrcSupported||(b.currentSrc=b.src)))},f.applyBestCandidate=function(a){var b,c=f.getFirstMatch(a);"pending"!=c&&(b=f.getCandidatesFromSourceSet(c),f.applyBestCandidateFromSrcSet(b,a),a[f.ns].evaluated=!0)},f.ascendingSort=function(a,b){return a.resolution-b.resolution},f.removeMediaShim=function(a){var b,c=f.qs(a,"video, audio");if(c){for(b=c.getElementsByTagName("source");b.length;)a.insertBefore(b[0],c);c.parentNode.removeChild(c)}},f.getFirstMatch=function(a){var b,c,d,e=!1,g=a[f.ns].candidates;for(b=0;b<g.length&&!e;b++)if(c=g[b],c.srcset&&f.matchesMedia(c.media)&&(d=f.verifyTypeSupport(c.type))){"pending"==d&&(c=d),e=c;break}return e},f.hasNonXDescriptor=function(a){var b,c=f.parseSrcset(a),d=!1;for(b=0;b<c.length;b++)if(c[0].descriptor&&"x"!=c[0].descriptor.type){d=!0;break}return d},f.needsSrcsetPolyfill=function(a){if(!a)return!1;var b=!f.srcsetSupported;return b||f.sizesSupported||!a.sizes&&!f.hasNonXDescriptor(a)||(b=!0),b},f.parseCanditates=function(a,b,d){var e,g,h,i="PICTURE"===b.nodeName.toUpperCase();"src"in a[f.ns]&&!d.reparseSrc||(a[f.ns].src=a.getAttribute("src")),"srcset"in a[f.ns]&&!d.reparseSrcset||(e=a.getAttribute("srcset"),h=!e&&a[f.ns].srcset,a[f.ns].srcset=e,f.srcsetSupported&&(e?(a.setAttribute(f.picutreFillAttribute,e),f.srcsetSupported&&!f.sizesSupported?a.srcset="":a.removeAttribute("srcset")):a.removeAttribute(f.picutreFillAttribute))),a[f.ns].srcset&&(g={srcset:a[f.ns].srcset,sizes:a.getAttribute("sizes")},i||f.parseSrcset(g)),a[f.ns].supported=i||h||f.needsSrcsetPolyfill(g)?!1:!0,a[f.ns].candidates=[],i&&(f.removeMediaShim(b),c(a,b,a[f.ns].candidates)),g&&a[f.ns].candidates.push(g),a[f.ns].parsed=!0},f.fillImg=function(a,b){a[f.ns]||(a[f.ns]={}),(b.reevaluate||b.reparse||!a[f.ns].evaluated)&&((!a[f.ns].parsed||b.reparse)&&f.parseCanditates(a,a.parentNode,b),a[f.ns].supported?a[f.ns].evaluated=!0:(a[f.ns].evaluated=!1,f.applyBestCandidate(a)))},f.setupRun=function(a){(!a||a.reevaluate)&&(f.widthCache={})},f.teardownRun=function(){d&&(d=!1,b.documentElement.removeChild(e))};var l=function(a){var c,d,e,g,h=a||{};if((h.reparseSrcset||h.reparseSrc)&&(g=!0,h.reparse=!0),f.hasConsole&&g&&!h.elements)throw"reparse should only run on specific elements.";if(c=h.elements||f.qsa(b,h.reevaluate?f.selector:f.shortSelector),e=c.length){for(f.setupRun(h),d=0;e>d;d++)f.fillImg(c[d],h);f.teardownRun(h)}};a.HTMLPictureElement&&(l=g,f.fillImg=g),l._=f,f.fillImgs=l,a.HTMLPictureElement||(!function(){var c=function(a){/^loade|^i|^c/.test(b.readyState||"")||a&&"DOMContentLoaded"==a.type?(clearInterval(d),f.fillImgs(),f.onReady(),f.onReady=g):f.fillImgs()},d=setInterval(c,250),e=function(){f.fillImgs({reevaluate:!0})};if(a.addEventListener&&b.addEventListener){var h;a.addEventListener("resize",function(){a.clearTimeout(h),h=a.setTimeout(e,99)},!1)}}(),f.createImageTest("image/webp","data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=")),"object"==typeof module&&"object"==typeof module.exports?module.exports=l:"function"==typeof define&&define.amd?(a.picturefill=l,define(function(){return l})):"object"==typeof a&&(a.picturefill=l)}(this,this.document);