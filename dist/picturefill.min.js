/*! Picturefill - v2.1.0 - 2014-09-14
* http://scottjehl.github.io/picturefill
* Copyright (c) 2014 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT */
window.matchMedia||(window.matchMedia=function(){"use strict";var a=window.styleMedia||window.media;if(!a){var b=document.createElement("style"),c=document.getElementsByTagName("script")[0],d=null;b.type="text/css",b.id="matchmediajs-test",c.parentNode.insertBefore(b,c),d="getComputedStyle"in window&&window.getComputedStyle(b,null)||b.currentStyle,a={matchMedium:function(a){var c="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return b.styleSheet?b.styleSheet.cssText=c:b.textContent=c,"1px"===d.width}}}return function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),function(a,b){"use strict";function c(a,b,c){var d,e,g,h,i=b.childNodes;for(d=0,e=i.length;e>d;d++)if(g=i[d],"SOURCE"===(g.nodeName||"").toUpperCase()){if(g==a)break;h=g.getAttribute("srcset"),h?c.push({srcset:h,media:g.getAttribute("media"),type:g.getAttribute("type"),sizes:g.getAttribute("sizes")}):f.hasConsole&&j.debug&&g.getAttribute("src")&&console.warn("Couldn't find srcset attribute on source. Note: The `src` attribute is invalid on `picture` `source` element; use `srcset`.")}}b.createElement("picture");var d,e,f={},g=function(){},h=b.createElement("img");f.ns="picturefill"+(new Date).getTime(),f.onReady=function(){f.isReady=!0},f.isReady=!1,f.srcsetSupported="srcset"in h,f.sizesSupported="sizes"in h,f.currentSrcSupported="currentSrc"in h,f.hasConsole=a.console&&"function"==typeof console.warn,f.picutreFillAttribute="data-"+f.ns+"srcset",f.shortSelector="picture > img, img[srcset]",f.selector=f.shortSelector+", img["+f.picutreFillAttribute+"]",b.querySelectorAll?(f.qsa=function(a,b){return a.querySelectorAll(b)},f.qs=function(a,b){return a.querySelector(b)}):(f.qsa=function(b,c){return(a.jQuery&&jQuery.find||g)(c,b)||[]},f.qs=function(b,c){return(a.jQuery&&jQuery.find||g)(c,b)[0]}),f.trim=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},f.endsWith=function(a,b){return a.endsWith?a.endsWith(b):-1!==a.indexOf(b,a.length-b.length)},f.restrictsMixedContent="https:"===a.location.protocol,f.matchesMedia=function(b){return!b||a.matchMedia&&a.matchMedia(b).matches},f.DPR=a.devicePixelRatio||1,f.widthCache={},f.getWidthFromLength=function(a){var c=a;if(!f.widthCache[c]){a=a&&a.indexOf("%")<0&&(parseFloat(a)>0||a.indexOf("calc(")>-1)?a:"100vw",a=a.replace("vw","%"),e||(e=b.createElement("div"),e.style.cssText="position: absolute; left: 0; visibility: hidden; display: block; padding: 0; margin: 0; border: none;"),d||(d=!0,b.documentElement.insertBefore(e,b.documentElement.firstChild));try{e.style.width=a}catch(g){}e.offsetWidth<=0&&(e.style.width="100%"),f.widthCache[c]=e.offsetWidth}return f.widthCache[c]},f.types={},f.types["image/jpeg"]=!0,f.types["image/gif"]=!0,f.types["image/png"]=!0,f.types["image/svg+xml"]=b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),f.createImageTest=function(a,c){var d,e=b.createElement("img"),g=function(){clearTimeout(d),f.fillImgs(),e=null};f.types[a]="pending",e.onerror=function(){f.types[a]=!1,g()},e.onload=function(){f.types[a]=1===e.width,g()},d=setTimeout(e.onerror,300),e.src=c},f.verifyTypeSupport=function(a){return a?f.types[a]:!0},f.parseSize=function(){var a=/(\([^)]+\))?\s*(.+)/,b={};return function(c){var d;return b[c]||(d=(c||"").match(a),b[c]={media:d&&d[1],length:d&&d[2]}),b[c]}}(),f.findWidthFromSourceSize=function(a){var b,c,d,e,g,h,i,j=f.trim(a).split(/\s*,\s*/);for(h=0,i=j.length;i>h;h++)if(c=j[h],d=f.parseSize(c),e=d.length,g=d.media,e&&f.matchesMedia(g)){b=e;break}return f.getWidthFromLength(b)},f.parseSrcset=function(a){if(a.parsedSrcset)return a.parsedSrcset;var b,c,d,e,f,g=a.srcset;for(a.parsedSrcset=[];g;)g=g.replace(/^\s+/g,""),b=g.search(/\s/g),d=null,-1!==b?(c=g.slice(0,b),e=c.charAt(c.length-1),(","===e||""===c)&&(c=c.replace(/,+$/,""),d=""),g=g.slice(b+1),null===d&&(f=g.indexOf(","),-1!==f?(d=g.slice(0,f),g=g.slice(f+1)):(d=g,g=""))):(c=g,g=""),(c||d)&&a.parsedSrcset.push({url:c,descriptor:d});return a.parsedSrcset};var i=/(^\s+|\s+$)/g;f.parseDescriptor=function(a,b){var c,d,e,g,h,j,k=b||"100vw",l=a&&a.replace(i,""),m=null;if(l)for(d=l.split(" "),e=d.length+1;e>=0;e--)void 0!==d[e]&&(g=d[e],h=g&&g.slice(g.length-1),"h"===h||"w"===h?(null===m&&(m=f.findWidthFromSourceSize(k)),c=parseFloat(parseInt(g,10)/m)):"x"===h&&(j=g&&parseFloat(g,10),c=j&&!isNaN(j)?j:1));return c||1},f.getCandidatesFromSourceSet=function(a){var b,c,d=[];if(a){b=f.parseSrcset(a);for(var e=0,g=b.length;g>e;e++)c=b[e],d.push({url:c.url,resolution:f.parseDescriptor(c.descriptor,a.sizes)})}return d},f.applyBestCandidateFromSrcSet=function(a,b){var c,d,e;a.sort(f.ascendingSort),d=a.length,e=a[d-1];for(var g=0;d>g;g++)if(c=a[g],c.resolution>=f.DPR){e=c;break}!e&&b[f.ns].src&&(e={url:b[f.ns].src}),e&&!f.endsWith(b.src,e.url)&&(f.restrictsMixedContent&&"http:"===e.url.substr(0,"http:".length).toLowerCase()?f.hasConsole&&console.warn("Blocked mixed content image "+e.url):(b.src=e.url,f.currentSrcSupported||(b.currentSrc=b.src)))},f.applyBestCandidate=function(a){var b,c=f.getFirstMatch(a);"pending"!=c&&(b=f.getCandidatesFromSourceSet(c),f.applyBestCandidateFromSrcSet(b,a),a[f.ns].evaluated=!0)},f.ascendingSort=function(a,b){return a.resolution-b.resolution},f.removeMediaShim=function(a){var b,c=f.qs(a,"video, audio");if(c){for(b=c.getElementsByTagName("source");b.length;)a.insertBefore(b[0],c);c.parentNode.removeChild(c)}},f.getFirstMatch=function(a){var b,c,d,e=!1,g=a[f.ns].candidates;for(b=0;b<g.length&&!e;b++)if(c=g[b],c.srcset&&f.matchesMedia(c.media)&&(d=f.verifyTypeSupport(c.type))){"pending"==d&&(c=d),e=c;break}return e},f.parseCanditates=function(a,b,d){var e,g="PICTURE"===b.nodeName.toUpperCase();a[f.ns].supported=g||!f.srcsetSupported||!f.sizesSupported&&-1!=a.srcset.indexOf("w")?!1:!0,a[f.ns].candidates=[],"src"in a[f.ns]&&!d.reparseSrc||(a[f.ns].src=a.getAttribute("src")),"srcset"in a[f.ns]&&!d.reparseSrcset||(e=a.getAttribute("srcset"),a[f.ns].srcset=e,e?(a.setAttribute(f.picutreFillAttribute,a[f.ns].srcset),f.srcsetSupported&&!f.sizesSupported?a.srcset="":a.removeAttribute("srcset")):a.removeAttribute(f.picutreFillAttribute)),g&&(f.removeMediaShim(b),c(a,b,a[f.ns].candidates)),a[f.ns].srcset?a[f.ns].candidates.push({srcset:a[f.ns].srcset,sizes:a.getAttribute("sizes")}):g||d.reparse||(a[f.ns].supported=!0),a[f.ns].parsed=!0},f.fillImg=function(a,b){a[f.ns]||(a[f.ns]={}),(b.reevaluate||b.reparse||!a[f.ns].evaluated)&&((!a[f.ns].parsed||b.reparse)&&f.parseCanditates(a,a.parentNode,b),a[f.ns].supported?a[f.ns].evaluated=!0:(a[f.ns].evaluated=!1,f.applyBestCandidate(a)))},f.setupRun=function(a){(!a||a.reevaluate)&&(f.widthCache={})},f.teardownRun=function(){d&&(d=!1,b.documentElement.removeChild(e))};var j=function(a){var c,d,e,g,h=a||{};if((h.reparseSrcset||h.reparseSrc)&&(g=!0,h.reparse=!0),f.hasConsole&&g&&!h.elements)throw"reparse should only run on specific elements.";if(c=h.elements||f.qsa(b,h.reevaluate?f.selector:f.shortSelector),e=c.length){for(f.setupRun(h),d=0;e>d;d++)f.fillImg(c[d],h);f.teardownRun(h)}};a.HTMLPictureElement&&(j=g,f.fillImg=g),j._=f,f.fillImgs=j,a.HTMLPictureElement||(!function(){var c=function(a){/^loade|^i|^c/.test(b.readyState||"")||a&&"DOMContentLoaded"==a.type?(clearInterval(d),f.fillImgs(),f.onReady(),f.onReady=g):f.fillImgs()},d=setInterval(c,250),e=function(){f.fillImgs({reevaluate:!0})};if(a.addEventListener&&b.addEventListener){var h;a.addEventListener("resize",function(){a.clearTimeout(h),h=a.setTimeout(e,99)},!1)}}(),f.createImageTest("image/webp","data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=")),"object"==typeof module&&"object"==typeof module.exports?module.exports=j:"function"==typeof define&&define.amd?(a.picturefill=j,define(function(){return j})):"object"==typeof a&&(a.picturefill=j)}(this,this.document);